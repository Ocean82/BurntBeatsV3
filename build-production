#!/bin/bash

# Enhanced Production Build Script for Burnt Beats
# Addresses Vite dependency issues by ensuring proper build environment

echo "ğŸµ Burnt Beats - Enhanced Production Build"
echo "=========================================="

# Ensure all dependencies are available for build
echo "ğŸ“¦ Installing dependencies with devDependencies..."
npm install --include=dev

# Ensure client dependencies are available
echo "ğŸ“¦ Installing client dependencies..."
cd client && npm install && cd ..

# Run the enhanced production build
echo "ğŸ”¨ Running enhanced production build..."
node deploy-production-fix.cjs

echo "âœ… Build completed!"
